
# def coin_change_dyna_iter(coin_list, change):
#     arr = [0] + [change] * change
#     # print(arr)
#     for chg in range(1, change + 1):
#         for coin in coin_list:
#             if chg >= coin:
#                 arr[chg] = min(arr[chg - coin] + 1, arr[chg])
#                 # if arr[chg - coin] + 1 < arr[chg]: ## same as minimum function above
#                 #     arr[chg] = arr[chg - coin] + 1
#         # print(arr)
#     return arr[-1]


# include the coins selected
# return 0 if making change is not possible
def coin_change_iter(coin_list, change):
    dp_arr = [0] + [change] * change
    coin_arr = [[] for _ in range(change + 1)]
    # print(dp_arr)
    for chg in range(1, change + 1):
        for coin in coin_list:
            if chg >= coin:
                if dp_arr[chg - coin] + 1 <= dp_arr[chg]:
                    dp_arr[chg] = 1 + dp_arr[chg - coin]
                    coin_arr[chg] = coin_arr[chg - coin] + [coin]
        # print(dp_arr)
    # print(coin_arr[-1])  # coin_arr[-1] will be empty if making change is not possible
    # return dp_arr[-1] if coin_arr[-1] else 0
    return (dp_arr[-1], coin_arr[-1]) if coin_arr[-1] else (0, [])


if __name__ == '__main__':
    # print(coin_change_dyna_iter([1, 2, 5], 11))
    #       0    1    2    3    4    5    6    7    8    9   10   11
    #    ┌────┬────┬────┬────┬────┬────┬────┬────┬────┬────┬────┬────┐
    #  0 │    │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    #  1 │    │  1 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    #  2 │    │  1 │  1 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    #  3 │    │  1 │  1 │  2 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    #  4 │    │  1 │  1 │  2 │  2 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    #  5 │    │  1 │  1 │  2 │  2 │  1 │ 11 │ 11 │ 11 │ 11 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    #  6 │    │  1 │  1 │  2 │  2 │  1 │  2 │ 11 │ 11 │ 11 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    #  7 │    │  1 │  1 │  2 │  2 │  1 │  2 │  2 │ 11 │ 11 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    #  8 │    │  1 │  1 │  2 │  2 │  1 │  2 │  2 │  3 │ 11 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    #  9 │    │  1 │  1 │  2 │  2 │  1 │  2 │  2 │  3 │  3 │ 11 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    # 10 │    │  1 │  1 │  2 │  2 │  1 │  2 │  2 │  3 │  3 │  2 │ 11 │
    #    ├────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┼────┤
    # 11 │    │  1 │  1 │  2 │  2 │  1 │  2 │  2 │  3 │  3 │  2 │  3 │
    #    └────┴────┴────┴────┴────┴────┴────┴────┴────┴────┴────┴────┘

    # print(coin_change_iter([1, 5, 10, 25], 63))
    # print(coin_change_iter([1, 5, 10, 25, 21], 63))
    # print(coin_change_iter([1, 2, 3], 4))
    # print(coin_change_iter([1, 5, 10, 25, 50], 43))
    # print(coin_change_iter([5, 10, 25, 50], 43))  # not possible
    # print(coin_change_iter([5], 7))  # not possible
    # print(coin_change_iter([1, 5, 10, 25], 1000000))
    # print(coin_change_iter([50, 25, 10, 5, 1], 1))
    # print(coin_change_iter([1, 5], 4))
    # print(coin_change_iter([1, 5], 43))
    print(coin_change_iter([1, 2, 4], 5))

    #     0   1   2   3   4   5
    #   ┌───┬───┬───┬───┬───┬───┐
    # 0 │ 0 │ 5 │ 5 │ 5 │ 5 │ 5 │
    #   └───┴───┴───┴───┴───┴───┘
    #
    #     0   1   2   3   4   5
    #   ┌───┬───┬───┬───┬───┬───┐
    # 1 │ 0 │ 1 │ 5 │ 5 │ 5 │ 5 │
    #   └───┴───┴───┴───┴───┴───┘
    #
    #     0   1   2   3   4   5
    #   ┌───┬───┬───┬───┬───┬───┐
    # 2 │ 0 │ 1 │ 1 │ 5 │ 5 │ 5 │
    #   └───┴───┴───┴───┴───┴───┘
    #
    #     0   1   2   3   4   5
    #   ┌───┬───┬───┬───┬───┬───┐
    # 3 │ 0 │ 1 │ 1 │ 2 │ 5 │ 5 │
    #   └───┴───┴───┴───┴───┴───┘
    #
    #     0   1   2   3   4   5
    #   ┌───┬───┬───┬───┬───┬───┐
    # 4 │ 0 │ 1 │ 1 │ 2 │ 1 │ 5 │
    #   └───┴───┴───┴───┴───┴───┘
    #
    #     0   1   2   3   4   5
    #   ┌───┬───┬───┬───┬───┬───┐
    # 5 │ 0 │ 1 │ 1 │ 2 │ 1 │ 2 │
    #   └───┴───┴───┴───┴───┴───┘
    #         ↑       ↑    ↑

    # print(coin_change_iter([2, 4], 3))
